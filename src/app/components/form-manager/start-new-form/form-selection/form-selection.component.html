<div class="margin-md">
  @if (!isLoading && !formList?.length) {
    <mat-error>No Forms Found</mat-error>
  } @else {
    <mat-radio-group aria-labelledby="select-form-label"
                     class="form-radio-group" (change)="onFormSelected($event)"
                     [(ngModel)]="selectedForm">
      @for (form of formList; track form) {
        <mat-radio-button [value]="form">{{ form.title }}</mat-radio-button>
      }
    </mat-radio-group>
  }
  @if (!selectedForm && submitTriggered) {
    <div class="margin-left-md">
      <mat-error>No Form Selected</mat-error>
    </div>
  }

  <div class="margin-md">
    <mat-label class="margin-top-sm">Selected Patient:</mat-label>
    @if (selectedPatient?.name.given?.[0] && selectedPatient?.name.family) {
      <div>{{ selectedPatient?.name.given?.[0] }} {{ selectedPatient?.name.family }}</div>
    } @else if (submitTriggered) {
      <mat-error>No Patient Selected</mat-error>
    }

  </div>

</div>
